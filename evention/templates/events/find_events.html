{% extends "base.html" %}
{% load staticfiles %}

{% block knockout %}
<script src="{% static 'js/ko-event.js' %}"></script>
{% endblock %}

{% block content %}

<div class="row">
  <div class="col-md-12">
    <h2>Upcoming events</h2>
    <p>Not seeing any events? Add your favourite bands and musicians <a href="{% url 'events:find_bands' %}">here</a>!</p>
    <p>New events are added nightly, so be sure to check back often!</p>
  </div>
</div>

<div class="row">
  <div class="col-sm-12 col-md-6">
    <h2>Your events</h2>
    <div data-bind="foreach: events">
      <div data-bind="visible: notIgnored" class="media">
        <div class="media-left media-middle">
          <img width="200px" data-bind="attr:{src:performerImage}" class="media-object">
        </div>
        <div class="media-body">
          <h4 class="media-heading"><!--ko text: performerName--><!--/ko--> in <!--ko text: city--><!--/ko--> on <!--ko text: moment(startTime()).format('LL')--><!--/ko-->. </h4>
          <p><a data-bind="click: $parent.ignoreEvent.bind($parent, '{{ request.user.id }}')" href="#"><span class="text-danger"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></span> Not interested</a></p>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-12 col-md-6">
    <h2>Places you want to visit</h2>
    <p>This feature is under development.</p>
  </div>
</div>

<div class="eventful-badge eventful-medium visible-xs">
  <img src="http://api.eventful.com/images/powered/eventful_88x31.gif"
    alt="Local Events, Concerts, Tickets">
  <p><a href="http://eventful.com/">Events</a> by Eventful</p>
</div>

<script>
</script>

{% endblock %}

{% block footer-branding %}
<div class="eventful-badge eventful-medium">
  <img src="http://api.eventful.com/images/powered/eventful_88x31.gif"
    alt="Local Events, Concerts, Tickets">
  <p><a href="http://eventful.com/">Events</a> by Eventful</p>
</div>
{% endblock %}
